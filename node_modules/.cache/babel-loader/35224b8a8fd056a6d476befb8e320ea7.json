{"ast":null,"code":"var _jsxFileName = \"C:\\\\simon\\\\uusiprojekti\\\\uusiprojekti\\\\src\\\\components\\\\AdminView2.js\";\nimport React, { Component } from 'react';\nimport './Table.css';\nimport './Toast.holder.css';\nimport cookies from 'js-cookie';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nexport class AdminView extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userlist: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:8000/jasenrekisteri/hyvaksymattomat', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'authorization': \"Bearer \" + cookies.get('token') + \"\"\n      }\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        userlist: data.list\n      });\n    }).catch(console.log);\n  }\n\n  render() {\n    function maksuPaivitys(maksu, id) {\n      if (maksu == 1) {\n        fetch('http://localhost:8000/jasenrekisteri/' + id + '/0', {\n          method: 'PUT',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'authorization': \"Bearer \" + cookies.get('token') + \"\"\n          }\n        }).then(res => res.json()).then(data => {\n          this.setState({\n            userlist: data.list\n          });\n        }).catch(console.log);\n      } else if (maksu == 0) {\n        fetch('http://localhost:8000/jasenrekisteri/' + id + '/1', {\n          method: 'PUT',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'authorization': \"Bearer \" + cookies.get('token') + \"\"\n          }\n        }).then(res => res.json()).then(data => {\n          this.setState({\n            userlist: data.list\n          });\n        }).catch(console.log);\n      }\n\n      window.location.reload(true);\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"dropFont font\",\n      to: \"/view/maksamattomat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Maksamattomat\")), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"dropFont font\",\n      to: \"/view/hyvaksymattomat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Hyv\\xE4ksym\\xE4tt\\xF6m\\xE4t\")), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"dropFont font\",\n      to: \"/view/jasenet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"J\\xE4senet\")), \" \"), React.createElement(\"table\", {\n      className: \"table\",\n      id: \"table1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Etunimi\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Sukunimi\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Jasentyyppi\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Kotipaikka\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Maksu\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Aloitusvuosi\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Hyv\\xE4ksytty\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Eronnut\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Tiedotus\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Hyv\\xE4ksy J\\xE4sen\")), this.state.userlist.map(user => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, user.jasen_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, user.etunimi), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, user.sukunimi), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, user.jasentyyppi_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, user.kotipaikka), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, user.email), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, user.maksu), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, user.aloitusvuosi), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, user.hyvaksytty), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, user.eronnut), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, user.tiedotus), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => maksuPaivitys(user.maksu, user.jasen_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Hyv\\xE4ksy\")))))));\n  }\n\n}\nexport default AdminView;","map":{"version":3,"sources":["C:/simon/uusiprojekti/uusiprojekti/src/components/AdminView2.js"],"names":["React","Component","cookies","BrowserRouter","Router","Route","Link","AdminView","state","userlist","componentDidMount","fetch","method","headers","get","then","res","json","data","setState","list","catch","console","log","render","maksuPaivitys","maksu","id","window","location","reload","map","user","jasen_id","etunimi","sukunimi","jasentyyppi_id","kotipaikka","email","aloitusvuosi","hyvaksytty","eronnut","tiedotus"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './Table.css';\r\nimport './Toast.holder.css';\r\nimport cookies from 'js-cookie'\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport class AdminView extends Component {\r\n   \r\n  \r\n    state = {\r\n        userlist: []\r\n      }\r\n\r\n\r\n \r\n  componentDidMount() {\r\n    fetch('http://localhost:8000/jasenrekisteri/hyvaksymattomat',{\r\n        method: 'GET',\r\n        headers:{\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'authorization': \"Bearer \"+cookies.get('token')+\"\"\r\n        }\r\n})\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n      this.setState({ userlist: data.list })\r\n    })\r\n    .catch(console.log)\r\n  }\r\n\r\n\r\n\r\n\r\n    render() {\r\n     \r\n      \r\n\r\n\r\n        function maksuPaivitys(maksu,id) {\r\n           if(maksu==1){\r\n            \r\n                fetch('http://localhost:8000/jasenrekisteri/'+id+'/0',{\r\n                    method: 'PUT',\r\n                    headers:{\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',\r\n                        'authorization': \"Bearer \"+cookies.get('token')+\"\"\r\n                    }\r\n            })\r\n                .then(res => res.json())\r\n                .then((data) => {\r\n                  this.setState({ userlist: data.list })\r\n                })\r\n                .catch(console.log)\r\n               \r\n              }\r\n\r\n           \r\n\r\n           else if(maksu==0){\r\n            \r\n                fetch('http://localhost:8000/jasenrekisteri/'+id+'/1',{\r\n                    method: 'PUT',\r\n                    headers:{\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',\r\n                        'authorization': \"Bearer \"+cookies.get('token')+\"\"\r\n                    }\r\n            })\r\n                .then(res => res.json())\r\n                .then((data) => {\r\n                  this.setState({ userlist: data.list })\r\n                })\r\n                .catch(console.log)\r\n              }\r\n              \r\n              window.location.reload(true)\r\n           }\r\n           \r\n        \r\n          \r\n     \r\n        return (\r\n            <div>\r\n            <div>\r\n            <button ><Link className=\"dropFont font\" to=\"/view/maksamattomat\">Maksamattomat</Link></button>\r\n            <button ><Link className=\"dropFont font\" to=\"/view/hyvaksymattomat\">Hyväksymättömät</Link></button>\r\n            <button><Link className=\"dropFont font\" to=\"/view/jasenet\">Jäsenet</Link></button> </div>\r\n          \r\n          <table className=\"table\" id=\"table1\">\r\n<tbody>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Etunimi</th>\r\n            <th>Sukunimi</th>\r\n            <th>Jasentyyppi</th>\r\n            <th>Kotipaikka</th>\r\n            <th>Email</th>\r\n            <th>Maksu</th>\r\n            <th>Aloitusvuosi</th>\r\n            <th>Hyväksytty</th>\r\n            <th>Eronnut</th>\r\n            <th>Tiedotus</th>\r\n            <th>Hyväksy Jäsen</th>\r\n\r\n          </tr>\r\n            \r\n          {this.state.userlist.map((user) => (\r\n             \r\n                  <tr>\r\n                  <td>{user.jasen_id}</td>\r\n                  <td>{user.etunimi}</td>\r\n                  <td>{user.sukunimi}</td>\r\n                  <td>{user.jasentyyppi_id}</td>\r\n                  <td>{user.kotipaikka}</td>\r\n                  <td>{user.email}</td>   \r\n                  <td>{user.maksu}</td>\r\n                  <td>{user.aloitusvuosi}</td>\r\n                  <td>{user.hyvaksytty}</td>\r\n                  <td>{user.eronnut}</td>\r\n                  <td>{user.tiedotus}</td>\r\n                  <td><button onClick ={()=>maksuPaivitys(user.maksu,user.jasen_id)}>Hyväksy</button></td>\r\n                </tr>\r\n      \r\n              ))}\r\n</tbody>\r\n            </table>\r\n            \r\n            \r\n               </div>\r\n        )\r\n        \r\n    }\r\n}\r\n\r\nexport default AdminView"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\simon\\\\uusiprojekti\\\\uusiprojekti\\\\src\\\\components\\\\AdminViewTapahtumapoisto.js\";\nimport React, { Component } from 'react';\nimport './Table.css';\nimport './Toast.holder.css';\nimport cookies from 'js-cookie';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nexport class AdminViewTapahtumapoisto extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tapahtumat: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:8000/tapahtumat/future', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        tapahtumat: data.list\n      });\n    }).catch(console.log);\n  }\n\n  render() {\n    function poista(id) {\n      fetch('http://localhost:8000/tapahtumat/', {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'authorization': \"Bearer \" + cookies.get('token') + \"\"\n        },\n        body: JSON.stringify({\n          jasen_id: id\n        })\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          tapahtumat: data.list\n        });\n      }).catch(console.log);\n      window.location.reload(true);\n    }\n\n    return React.createElement(\"div\", {\n      class: \"wrapwrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Erota j\\xE4sen\"), React.createElement(\"table\", {\n      className: \"table\",\n      id: \"table1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Mik\\xE4\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Miss\\xE4\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"AloitusPvm\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Poista tapahtuma\")), this.state.tapahtumat.map(tapahtuma => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, tapahtuma.tapahtuma_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, tapahtuma.mika), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, tapahtuma.missa), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, tapahtuma.start_time), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => poista(tapahtuma.tapahtuma_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Poista\")))))));\n  }\n\n}\nexport default AdminViewTapahtumapoisto;","map":{"version":3,"sources":["C:/simon/uusiprojekti/uusiprojekti/src/components/AdminViewTapahtumapoisto.js"],"names":["React","Component","cookies","BrowserRouter","Router","Route","Link","AdminViewTapahtumapoisto","state","tapahtumat","componentDidMount","fetch","method","headers","then","res","json","data","setState","list","catch","console","log","render","poista","id","get","body","JSON","stringify","jasen_id","window","location","reload","map","tapahtuma","tapahtuma_id","mika","missa","start_time"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport './Table.css';\r\nimport './Toast.holder.css';\r\nimport cookies from 'js-cookie'\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport class AdminViewTapahtumapoisto extends Component {\r\n   \r\n  \r\n    state = {\r\n        tapahtumat: []\r\n      }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n   \r\n    fetch('http://localhost:8000/tapahtumat/future',{\r\n        method: 'GET',\r\n        headers:{\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n           \r\n        }\r\n})\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n      this.setState({ tapahtumat: data.list })\r\n    })\r\n    .catch(console.log)\r\n  }\r\n\r\n\r\n\r\n\r\n    render() {\r\n     \r\n      \r\n\r\n\r\n        function poista(id) {\r\n          \r\n            \r\n                fetch('http://localhost:8000/tapahtumat/',{\r\n                    method: 'DELETE',\r\n                    headers:{\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',\r\n                        'authorization': \"Bearer \"+cookies.get('token')+\"\"\r\n                    },\r\n                    body: JSON.stringify({jasen_id: id})\r\n            })\r\n                .then(res => res.json())\r\n                .then((data) => {\r\n                  this.setState({ tapahtumat: data.list })\r\n                })\r\n                .catch(console.log)\r\n                window.location.reload(true)\r\n              }\r\n\r\n           \r\n\r\n        \r\n           \r\n           \r\n        \r\n          \r\n     \r\n        return (\r\n          <div class=\"wrapwrap\">\r\n           \r\n          <h1>Erota jäsen</h1>\r\n\r\n          \r\n          <table className=\"table\" id=\"table1\">\r\n<tbody>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Mikä</th>\r\n            <th>Missä</th>\r\n            <th>AloitusPvm</th>\r\n            <th>Poista tapahtuma</th>\r\n\r\n          </tr>\r\n            \r\n          {this.state.tapahtumat.map((tapahtuma) => (\r\n             \r\n                  <tr>\r\n                  <td>{tapahtuma.tapahtuma_id}</td>\r\n                  <td>{tapahtuma.mika}</td>\r\n                  <td>{tapahtuma.missa}</td>\r\n                  <td>{tapahtuma.start_time}</td>\r\n                  <td><button onClick ={()=>poista(tapahtuma.tapahtuma_id)}>Poista</button></td>\r\n                </tr>\r\n      \r\n              ))}\r\n</tbody>\r\n            </table>\r\n            \r\n            \r\n               </div>\r\n        )\r\n        \r\n    }\r\n}\r\n\r\nexport default AdminViewTapahtumapoisto"]},"metadata":{},"sourceType":"module"}